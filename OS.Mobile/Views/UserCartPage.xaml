<?xml version="1.0" encoding="utf-8" ?><ContentPage    xmlns="http://xamarin.com/schemas/2014/forms"    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"    xmlns:list="clr-namespace:Syncfusion.ListView.XForms;assembly=Syncfusion.SfListView.XForms"    xmlns:behaviour="clr-namespace:TheOrganicShop.Mobile.Behaviors"    xmlns:accordion="clr-namespace:Syncfusion.XForms.Accordion;assembly=Syncfusion.Expander.XForms"    xmlns:behaviors="clr-namespace:TheOrganicShop.Mobile.Behaviors;assembly=TheOrganicShop.Mobile"    xmlns:converters="clr-namespace:TheOrganicShop.Mobile.Converters;assembly=TheOrganicShop.Mobile"    xmlns:helpers="clr-namespace:TheOrganicShop.Mobile.Helpers;assembly=TheOrganicShop.Mobile"    xmlns:local="clr-namespace:TheOrganicShop.Mobile.ViewModels"    x:Class="TheOrganicShop.Mobile.Views.UserCartPage"     xmlns:combobox="clr-namespace:Syncfusion.XForms.ComboBox;assembly=Syncfusion.SfComboBox.XForms"    xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms" xmlns:border="clr-namespace:Syncfusion.XForms.Border;assembly=Syncfusion.Core.XForms" xmlns:controls="clr-namespace:TheOrganicShop.Mobile.Controls"    x:Name="cartpage"    BackgroundColor="{StaticResource PageBackGround}"    Title="Cart Items"    >    <ContentPage.Resources>        <ResourceDictionary>            <helpers:InverseZeroVisibilityConverter x:Key="inverseZeroVisibilityConverter"/>            <helpers:ZeroVisibilityConverter x:Key="zeroVisibilityConverter"/>            <helpers:CurrencyFormatConverter x:Key="currencyFormatConverter"/>            <converters:DynamicResourceToColorConverter x:Key="DynamicResourceToColorConverter" />            <converters:BooleanToColorConverter x:Key="BoolToColorConverter" />            <converters:NegateBooleanConverter x:Key="negateBooleanConverter" />            <converters:VisibilityConverter x:Key="VisibilityConverter" />            <converters:ZeroToEmpty x:Key="zeroToEmpty" />            <converters:IntToThicknessConverter x:Key="intToThicknessConverter" />            <converters:ActualPriceUserCart x:Key="ActualPriceConverter" />            <converters:DecimalToInt x:Key="decimalToIntConverter"/>            <converters:ZeroToHide x:Key="ZeroToHideConverter" />            <converters:PercentageToText x:Key="PercentageToText" />            <converters:PriceOpeningCartTag x:Key="PriceOpeningTag" />            <converters:SourceConverter x:Key="SourceConverter" />            <converters:HeightConverter x:Key="HeightConverter" />        </ResourceDictionary>    </ContentPage.Resources>    <ContentPage.Behaviors>        <behaviors:CartBehavior />    </ContentPage.Behaviors>    <Shell.BackButtonBehavior>        <BackButtonBehavior  Command="{Binding  BackButtonCommand}" IconOverride="{StaticResource back_icon}" />    </Shell.BackButtonBehavior>    <ContentPage.Content>        <Grid>            <Grid.RowDefinitions >                <RowDefinition Height="75"/>                <RowDefinition Height="*"/>                <RowDefinition Height="75"/>            </Grid.RowDefinitions>            <StackLayout Grid.Row="0" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand">                <Label IsVisible="{Binding IsEmptyViewVisible}" Style="{StaticResource subheader}" TextColor="{StaticResource colPrim}" VerticalTextAlignment="Center" VerticalOptions="Center" HorizontalOptions="Center" Text="Empty Cart"/>            </StackLayout>            <StackLayout HeightRequest="75" BackgroundColor="{StaticResource colQua}" Orientation="Horizontal" HorizontalOptions="FillAndExpand" VerticalOptions="CenterAndExpand"  Grid.Row="0" IsVisible="{Binding IsEmptyViewVisible, Converter={StaticResource negateBooleanConverter}}">                <StackLayout Margin="8" Orientation="Horizontal" HorizontalOptions="StartAndExpand">                    <Label   HorizontalOptions="Start" VerticalOptions="Center" FontAttributes="Bold" Style="{StaticResource TxtCartDate}" FontSize="20"  TextColor="{StaticResource colPrim}" VerticalTextAlignment="Center"  Text="Cart Date"/>                </StackLayout>                <StackLayout HorizontalOptions="End" Margin="8" VerticalOptions="Center">                    <combobox:SfComboBox HeightRequest="45" x:Name="comboBox" WidthRequest="200"                                          TextColor="{StaticResource colPrim}" TextSize="20" BorderColor="{StaticResource colPrim}"                                          SelectedItem="{Binding SelectedItem,Mode=TwoWay}"                                         DataSource="{Binding UserCarts}" ShowClearButton="False" DisplayMemberPath="FormattedDate">                    <combobox:SfComboBox.Behaviors>                        <behaviors:SelectionChangedComboboxBehavior Command="{Binding Path=BindingContext.DateChangedCommand, Source={x:Reference cartpage}}"/>                    </combobox:SfComboBox.Behaviors>                </combobox:SfComboBox>                    </StackLayout>            </StackLayout>            <!--<Grid  Grid.Row="0" IsVisible="{Binding IsEmptyViewVisible, Converter={StaticResource negateBooleanConverter}}"  Margin="4">                <Grid.RowDefinitions>                    <RowDefinition Height="75"/>                </Grid.RowDefinitions>                <Grid.ColumnDefinitions>                    <ColumnDefinition Width="*"/>                    <ColumnDefinition Width="*"/>                </Grid.ColumnDefinitions>                <Label  Grid.Row="0" Grid.Column="0"  HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Bold" Style="{StaticResource TxtCartDate}" FontSize="20"  TextColor="{StaticResource colPrim}" VerticalTextAlignment="Center"  Text="Cart Date"/>                <StackLayout Grid.Row="0" Grid.Column="1" >                    <combobox:SfComboBox HeightRequest="45" x:Name="comboBox"                                           TextColor="{StaticResource colPrim}" TextSize="20" BorderColor="{StaticResource colPrim}"                                          SelectedItem="{Binding SelectedItem,Mode=TwoWay}"                                         DataSource="{Binding UserCarts}" ShowClearButton="False" DisplayMemberPath="FormattedDate">                        <combobox:SfComboBox.Behaviors>                            <behaviors:SelectionChangedComboboxBehavior Command="{Binding Path=BindingContext.DateChangedCommand, Source={x:Reference cartpage}}"/>                        </combobox:SfComboBox.Behaviors>                    </combobox:SfComboBox>                </StackLayout>                --><!--<combobox:SfComboBox Grid.Row="0" Grid.Column="1" SelectedItem="{Binding SelectedItem,Mode=TwoWay}" TextColor="{StaticResource colPrim}"  x:Name="comboBox" HorizontalOptions="Center" VerticalOptions="Center" DataSource="{Binding UserCarts}" ShowClearButton="False" DisplayMemberPath="FormattedDate">                    <combobox:SfComboBox.Behaviors>                        <behaviors:SelectionChangedComboboxBehavior Command="{Binding Path=BindingContext.DateChangedCommand, Source={x:Reference cartpage}}"/>                    </combobox:SfComboBox.Behaviors>                </combobox:SfComboBox>--><!--            </Grid>-->            <Grid Grid.Row="1" IsVisible="{Binding IsEmptyViewVisible, Converter={StaticResource negateBooleanConverter}}" BackgroundColor="{StaticResource PageBackGround}">                <Grid.RowDefinitions>                    <RowDefinition Height="*"/>                </Grid.RowDefinitions>                <list:SfListView Grid.Row="0" x:Name="listView"                                                                   ItemSpacing="4"                                                                   AutoFitMode="Height" VerticalOptions="FillAndExpand"                                                                   Margin="4"                                                                   BackgroundColor="{DynamicResource PrimaryColor}"                                                                   SelectionBackgroundColor="{DynamicResource PrimaryColor}"                                                                                                              ItemsSource="{Binding CurrentDayCartItems}"                                                                   >                    <list:SfListView.ItemTemplate>                        <DataTemplate>                            <Frame                                                                    Padding="2"                                                                    BackgroundColor="{DynamicResource colQua}"                                                                    HasShadow="False">                                <StackLayout Orientation="Horizontal"  Spacing="8" Margin="8">                                    <ffimageloading:CachedImage                                                                             Margin="4"                                                                            Source="{Binding ImageUri, Converter={StaticResource SourceConverter}}"                                                                            ErrorPlaceholder="imageplaceholder.png"                                                                            LoadingPlaceholder="imageplaceholder.png"                                                                            CacheDuration="1"                                                                            WidthRequest="{OnIdiom Phone=100,                                                                                                    Tablet=224,                                                                                                    Desktop=200}"                                                                            />                                    <StackLayout                                                                            HorizontalOptions="FillAndExpand" Margin="0,16,0,0"                                                                            Orientation="Vertical"                                                                            VerticalOptions="FillAndExpand"                                                                            Spacing="4">                                        <StackLayout Orientation="Horizontal" >                                            <Label Text="{Binding ProductName}" Style="{StaticResource subheader}"                                                                                        LineBreakMode="TailTruncation" FontSize="16"                                                                                        MaxLines="2" />                                        </StackLayout>                                        <StackLayout Orientation="Horizontal">                                            <Label    Text="{Binding DiscountedPrice,Converter={StaticResource decimalToIntConverter}}" FontAttributes="Bold" HorizontalOptions="Start" Style="{StaticResource TxtHeader}" TextColor="{StaticResource colPrim}"  FontSize="16"  ></Label>                                            <Label  x:Name="openingtag" Text="{Binding OriginalPrice, Converter={StaticResource PriceOpeningTag},ConverterParameter={x:Reference openingtag}}"   Style="{StaticResource subheader}" TextColor="{StaticResource TitleColor}" FontSize="16"/>                                            <Label x:Name="discount" Text="{Binding OriginalPrice, Converter={StaticResource ActualPriceConverter},ConverterParameter={x:Reference discount}}" FontSize="16" TextDecorations="Strikethrough" Style="{StaticResource subheader}" TextColor="{StaticResource TitleColor}"/>                                            <Label Text="{Binding DiscountPercent, Converter={StaticResource PercentageToText}}" FontSize="16" Style="{StaticResource subheader}" TextColor="{StaticResource TitleColor}"/>                                        </StackLayout>                                        <StackLayout Orientation="Horizontal">                                            <Label                                                                                    Text="{Binding Weight}"                                                                                    Style="{StaticResource subheader}"                                                                                    FontSize="16"                                                                                    LineBreakMode="TailTruncation"  />                                        </StackLayout>                                        <StackLayout                                                                            Margin="0,0,0,12"                                                                            Orientation="Horizontal"                                                                            Spacing="5">                                            <StackLayout x:Name="numericUpDown1"  Margin="0,2"  Orientation="Horizontal" Spacing="16">                                                <Frame HeightRequest="40" WidthRequest="40" BackgroundColor="{StaticResource colPrim}">                                                    <Frame.GestureRecognizers>                                                        <TapGestureRecognizer  Command="{Binding Source={x:Reference cartpage}, Path=BindingContext.RmQuantityCommand}" CommandParameter="{Binding}" />                                                    </Frame.GestureRecognizers>                                                    <StackLayout VerticalOptions="Center" HorizontalOptions="Center">                                                        <Label VerticalTextAlignment="Center" Text="-" FontSize="24" TextColor="White"/>                                                    </StackLayout>                                                </Frame>                                                <StackLayout VerticalOptions="CenterAndExpand" HorizontalOptions="Center">                                                    <Label Text="{Binding Quantity, Mode=TwoWay}" FontSize="18" TextColor="{StaticResource TitleColor}"/>                                                </StackLayout>                                                <Frame HeightRequest="40" WidthRequest="40" BackgroundColor="{StaticResource colPrim}">                                                    <Frame.GestureRecognizers>                                                        <TapGestureRecognizer  Command="{Binding Source={x:Reference cartpage}, Path=BindingContext.AddQuantityCommand}" CommandParameter="{Binding}"  />                                                    </Frame.GestureRecognizers>                                                    <StackLayout VerticalOptions="CenterAndExpand" HorizontalOptions="Center">                                                        <Label Text="+" FontSize="24" TextColor="White"/>                                                    </StackLayout>                                                </Frame>                                            </StackLayout>                                        </StackLayout>                                    </StackLayout>                                    <StackLayout VerticalOptions="Start">                                        <ImageButton                                                                                    Source="{StaticResource icon_Delete}"                                                                                    BackgroundColor="White"                                                                                    HorizontalOptions="EndAndExpand"                                                                                    Command="{Binding Source={x:Reference cartpage}, Path=BindingContext.RemoveProductFromCartCommand}"                                                                                    CommandParameter="{Binding .}"                                                                                    VerticalOptions="Start" />                                    </StackLayout>                                </StackLayout>                            </Frame>                        </DataTemplate>                    </list:SfListView.ItemTemplate>                </list:SfListView>                <Label Grid.Row="0" IsVisible="{ Binding NoCartItemsForDay}"  Style="{StaticResource subheader}" TextColor="{StaticResource colPrim}" VerticalTextAlignment="Center" VerticalOptions="Center" HorizontalOptions="Center" Text="No Orders Placed"/>            </Grid>            <StackLayout Style="{StaticResource BottomBar}" Grid.Row="2" IsVisible="{Binding IsEmptyViewVisible, Converter={StaticResource negateBooleanConverter}}"  >                <StackLayout Margin="8" Orientation="Horizontal" HorizontalOptions="StartAndExpand">                    <Image                        Margin="12"                        Source="{StaticResource icon_cart}"                        VerticalOptions="CenterAndExpand"                        HorizontalOptions="EndAndExpand"                    />                    <StackLayout VerticalOptions="CenterAndExpand">                        <StackLayout Orientation="Horizontal">                            <Label FontAttributes="Bold" TextColor="{StaticResource colQua}"   Text="{Binding TotalPrice}"></Label>                        </StackLayout>                        <Label TextColor="{StaticResource colQua}" Style="{StaticResource subheader}" Text="{Binding TotalItems, StringFormat='{0:F0} Items'}"></Label>                    </StackLayout>                </StackLayout>                <StackLayout HorizontalOptions="End">                    <Button                    Style="{StaticResource EllipseButtonStyle_White}"                    Margin="0,0,24,0"                    VerticalOptions="CenterAndExpand"                    Command="{Binding Source={x:Reference cartpage}, Path=BindingContext.ProceedCommand}"                    Text=" Proceed "/>                </StackLayout>            </StackLayout>        </Grid>    </ContentPage.Content></ContentPage>